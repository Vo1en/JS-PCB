<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>黃裕勝 & 馬璦嵐 婚禮邀請</title>
    
    <!-- 引入 Tailwind CSS (用於排版) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 引入 React 和 ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- 引入 Babel (用於解析 JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 引入 Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600&family=Noto+Sans+TC:wght@300;400;500&family=Parisienne&display=swap" rel="stylesheet">

    <style>
        /* 自定義字體設定 */
        .font-serif-tc { font-family: 'Noto Serif TC', serif; }
        .font-sans-tc { font-family: 'Noto Sans TC', sans-serif; }
        .font-script { font-family: 'Parisienne', cursive; }
        
        /* 動畫設定 */
        @keyframes float {
          0% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
          100% { transform: translateY(0px); }
        }
        
        @keyframes fall {
          0% { transform: translateY(-10vh) translateX(0) rotate(0deg); opacity: 0; }
          10% { opacity: 1; }
          100% { transform: translateY(100vh) translateX(20px) rotate(360deg); opacity: 0; }
        }

        .animate-float { animation: float 6s ease-in-out infinite; }
        
        .petal {
          position: absolute;
          width: 10px;
          height: 10px;
          background-color: #F2E6E6;
          border-radius: 50% 0 50% 0;
          opacity: 0;
          z-index: 0;
          pointer-events: none;
        }

        /* 確保選取文字的顏色 */
        ::selection {
            background-color: #E3D5CA;
            color: white;
        }
    </style>
</head>
<body class="bg-[#FDFBF7]">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 圖示組件 (SVG Icons) ---
        const Heart = ({ className, fill }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill={fill || "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
        );
        const Clock = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
        );
        const MapPin = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
        );
        const Navigation = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>
        );
        const Copy = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
        );
        const Car = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><circle cx="17" cy="17" r="2"/><path d="M5 17h2"/><path d="M15 17h2"/></svg>
        );

        // --- 主程式組件 ---
        const WeddingInvite = () => {
            const [timeLeft, setTimeLeft] = useState({ days: 0, hours: 0, minutes: 0, seconds: 0 });
            const [isCopied, setIsCopied] = useState(false);
            
            // 目標日期：2026年3月28日 12:00:00
            const targetDate = new Date('2026-03-28T12:00:00').getTime();

            useEffect(() => {
                const updateCountdown = () => {
                    const now = new Date().getTime();
                    const distance = targetDate - now;

                    if (distance < 0) {
                        setTimeLeft({ days: 0, hours: 0, minutes: 0, seconds: 0 });
                    } else {
                        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                        const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                        setTimeLeft({ days, hours, minutes, seconds });
                    }
                };

                updateCountdown(); // 立即執行一次
                const interval = setInterval(updateCountdown, 1000);
                return () => clearInterval(interval);
            }, []);

            const copyAddress = () => {
                // 使用較新的 Clipboard API 或 fallback
                if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText("台北市北投區幽雅路30號");
                } else {
                    // Fallback for older browsers or non-secure context
                    const textArea = document.createElement("textarea");
                    textArea.value = "台北市北投區幽雅路30號";
                    textArea.style.position = "fixed";
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    try {
                        document.execCommand('copy');
                    } catch (err) {
                        console.error('Copy failed', err);
                    }
                    document.body.removeChild(textArea);
                }
                
                setIsCopied(true);
                setTimeout(() => setIsCopied(false), 2000);
            };

            const openMap = () => {
                window.open("https://www.google.com/maps/search/?api=1&query=北投麗禧溫泉酒店", "_blank");
            };

            return (
                <div className="min-h-screen bg-[#FDFBF7] text-[#5A5652] font-sans overflow-hidden relative">
                
                {/* 背景飄落花瓣裝飾 */}
                {[...Array(12)].map((_, i) => (
                    <div 
                    key={i} 
                    className="petal"
                    style={{
                        left: `${Math.random() * 100}%`,
                        animation: `fall ${10 + Math.random() * 10}s linear infinite`,
                        animationDelay: `${Math.random() * 10}s`,
                        width: `${10 + Math.random() * 10}px`,
                        height: `${10 + Math.random() * 10}px`,
                    }}
                    />
                ))}

                <div className="max-w-md mx-auto relative z-10 bg-white/50 min-h-screen shadow-xl backdrop-blur-sm pb-20">
                    
                    {/* Header Image Area */}
                    <div className="relative w-full h-[60vh] bg-[#EBE5DE] overflow-hidden rounded-b-[3rem]">
                    {/* 照片路徑設定為 142.jpg，請確保檔案在同一目錄 */}
                    <img 
                        src="142.jpg" 
                        alt="Wedding Couple" 
                        onError={(e) => {
                            e.target.onerror = null;
                            e.target.style.display = 'none';
                            e.target.parentNode.style.backgroundColor = '#E3D5CA'; // 圖片載入失敗時顯示底色
                            // 可以在這裡加入一個文字提示，或者不顯示
                        }}
                        className="w-full h-full object-cover opacity-90 hover:scale-105 transition-transform duration-[20s]"
                    />
                    <div className="absolute inset-0 bg-gradient-to-t from-[#FDFBF7] via-transparent to-transparent opacity-60"></div>
                    
                    <div className="absolute bottom-10 left-0 right-0 text-center animate-float">
                        <p className="font-script text-4xl text-[#8E8070] mb-2">We are getting married</p>
                        <h1 className="text-3xl font-serif-tc font-bold tracking-widest text-[#4A4A4A] mt-4">
                        黃裕勝 <span className="text-2xl font-light mx-2">&</span> 馬璦嵐
                        </h1>
                    </div>
                    </div>

                    {/* Intro Text */}
                    <div className="px-8 py-12 text-center">
                    <div className="inline-block p-3 rounded-full bg-[#F5F0EB] mb-6">
                        <Heart className="w-5 h-5 text-[#C9A690]" fill="#C9A690" />
                    </div>
                    <h2 className="text-xl font-serif-tc font-semibold mb-6 tracking-wider text-[#6B5B50]">我們結婚了！</h2>
                    <div className="space-y-3 font-sans-tc font-light text-[#757575] leading-loose text-sm">
                        <p>簡約溫馨的午餐時光</p>
                        <p>邀請至親好友</p>
                        <p>一同分享我們的喜悅</p>
                    </div>
                    </div>

                    {/* Date & Time Card */}
                    <div className="mx-6 bg-white rounded-3xl p-8 shadow-sm border border-[#F0EBE5] text-center mb-8 relative overflow-hidden group">
                    <div className="absolute top-0 left-0 w-full h-1 bg-[#E3D5CA]"></div>
                    
                    <div className="grid grid-cols-3 gap-4 items-center mb-6">
                        <div className="text-center">
                            <p className="text-xs text-gray-400 uppercase tracking-widest mb-1">Year</p>
                            <p className="font-serif-tc text-xl text-[#5A5A5A]">2026</p>
                        </div>
                        <div className="text-center border-x border-dashed border-[#E0E0E0]">
                            <p className="text-xs text-gray-400 uppercase tracking-widest mb-1">Month</p>
                            <p className="font-serif-tc text-3xl font-bold text-[#8E8070]">03</p>
                        </div>
                        <div className="text-center">
                            <p className="text-xs text-gray-400 uppercase tracking-widest mb-1">Day</p>
                            <p className="font-serif-tc text-xl text-[#5A5A5A]">28</p>
                        </div>
                    </div>

                    <div className="flex items-center justify-center space-x-2 text-[#8E8070] bg-[#FAF8F6] py-3 rounded-xl">
                        <Clock className="w-4 h-4" />
                        <span className="font-sans-tc tracking-wide text-sm font-medium">週六中午 12:00 入席</span>
                    </div>

                    {/* Countdown */}
                    <div className="mt-8 pt-6 border-t border-[#F0EBE5]">
                        <p className="text-xs text-gray-400 mb-4 tracking-widest">COUNTDOWN</p>
                        <div className="flex justify-center space-x-4 text-[#6B5B50]">
                            <div className="text-center">
                            <span className="block text-2xl font-serif-tc font-bold">{timeLeft.days}</span>
                            <span className="text-[10px] uppercase">Days</span>
                            </div>
                            <div className="text-center"><span className="block text-2xl font-serif-tc pt-1">:</span></div>
                            <div className="text-center">
                            <span className="block text-2xl font-serif-tc font-bold">{timeLeft.hours}</span>
                            <span className="text-[10px] uppercase">Hrs</span>
                            </div>
                            <div className="text-center"><span className="block text-2xl font-serif-tc pt-1">:</span></div>
                            <div className="text-center">
                            <span className="block text-2xl font-serif-tc font-bold">{timeLeft.minutes}</span>
                            <span className="text-[10px] uppercase">Mins</span>
                            </div>
                        </div>
                    </div>
                    </div>

                    {/* Venue Info */}
                    <div className="px-6 mb-8">
                    <div className="bg-[#F7F5F2] rounded-3xl p-8 relative">
                        <div className="flex flex-col items-center text-center space-y-4">
                        <div className="w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-sm">
                            <MapPin className="w-6 h-6 text-[#C9A690]" />
                        </div>
                        <div>
                            <h3 className="text-lg font-serif-tc font-bold text-[#5A5A5A] mb-2">北投麗禧溫泉酒店</h3>
                            <p className="text-sm font-sans-tc text-[#757575] mb-4">台北市北投區幽雅路30號</p>
                            
                            <div className="flex space-x-3 justify-center">
                            <button 
                                onClick={openMap}
                                className="flex items-center space-x-1 px-4 py-2 bg-[#8E8070] text-white rounded-full text-xs hover:bg-[#7A6C5D] transition-colors shadow-md active:transform active:scale-95"
                            >
                                <Navigation className="w-3 h-3" />
                                <span>地圖導航</span>
                            </button>
                            <button 
                                onClick={copyAddress}
                                className="flex items-center space-x-1 px-4 py-2 bg-white text-[#8E8070] border border-[#8E8070] rounded-full text-xs hover:bg-[#FDFBF7] transition-colors shadow-sm active:transform active:scale-95"
                            >
                                <Copy className="w-3 h-3" />
                                <span>{isCopied ? '已複製！' : '複製地址'}</span>
                            </button>
                            </div>
                        </div>
                        </div>
                        
                        {/* Parking Info */}
                        <div className="mt-8 bg-white/60 rounded-xl p-4 border border-white">
                        <div className="flex items-start space-x-3">
                            <Car className="w-5 h-5 text-[#A8B5A2] mt-1 shrink-0" />
                            <div className="text-left">
                            <p className="font-bold text-sm text-[#6B5B50] mb-1">停車資訊</p>
                            <ul className="text-xs text-[#757575] font-sans-tc space-y-1 list-disc list-inside">
                                <li>飯店 B4、B5 提供平面停車位</li>
                                <li>另有 12 個機械停車位 (限高155cm)</li>
                            </ul>
                            </div>
                        </div>
                        </div>
                    </div>
                    </div>

                    {/* Footer */}
                    <div className="text-center pb-8 px-8">
                    <div className="w-16 h-[1px] bg-[#E3D5CA] mx-auto mb-6"></div>
                    <p className="font-script text-2xl text-[#C9A690] mb-2">Thank you</p>
                    <p className="text-xs text-[#999] font-sans-tc">誠摯邀請您的參與</p>
                    <p className="text-[10px] text-[#CCC] mt-8">Designed for 黃裕勝 & 馬璦嵐</p>
                    </div>
                </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<WeddingInvite />);
    </script>
</body>
</html>